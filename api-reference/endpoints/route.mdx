---
title: "Get Route"
description: "Find the optimal trading route across supported networks"
api: "GET /{network}/route"
---

## Overview

<Info>
  **V2 Available**: An enhanced version of this endpoint is available at `/{network}/v2/route` with integrator support, metadata, and API key features. See [Get Route V2](/api-reference/endpoints/route-v2) and the [V2 Migration Guide](/api-reference/v2-migration).
</Info>

Route endpoint finds the optimal trading path through Fibrous' integrated liquidity sources to maximize output and minimize slippage. This endpoint is available across all supported networks.

## Supported Networks

<Tabs>
  <Tab title="Base">
    ```bash
    https://api.fibrous.finance/base/route
    ```
  </Tab>
  <Tab title="HyperEVM">
    ```bash
    https://api.fibrous.finance/hyperevm/route
    ```
  </Tab>
  <Tab title="Citrea">
    ```bash
    https://api.fibrous.finance/citrea/route
    ```
  </Tab>
  <Tab title="Monad">
    ```bash
    https://api.fibrous.finance/monad/route
    ```
  </Tab>
  <Tab title="Starknet">
    ```bash
    https://api.fibrous.finance/starknet/route
    ```

    <Note>
      Starknet has additional batch routing capabilities. See [Starknet API](/api-reference/starknet/endpoint/overview) for details.
    </Note>
  </Tab>
</Tabs>

## Request Parameters

<ParamField query="amount" type="string" required>
  The amount of input tokens in wei format (for EVM chains) or the smallest unit for the token.

  Example: `"1000000000000000000"` for 1 token with 18 decimals
</ParamField>

<ParamField query="tokenInAddress" type="string" required>
  The contract address of the input token.

  <Tabs>
    <Tab title="Base/HyperEVM/Citrea/Monad">
      Use `0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE` or `0x0000000000000000000000000000000000000000` for native tokens
    </Tab>
    <Tab title="Starknet">
      Use the Cairo contract address format
    </Tab>
  </Tabs>
</ParamField>

<ParamField query="tokenOutAddress" type="string" required>
  The contract address of the output token.
</ParamField>

<ParamField query="slippage" default="0.5" type="number">
  Maximum acceptable slippage in percentage (0.1 to 100).

  Example: `0.5` for 0.5% slippage tolerance
</ParamField>

<ParamField query="destination" type="string">
  The destination address to receive the output tokens. If not provided, defaults to the sender address.
</ParamField>

<ParamField query="excludeProtocols" type="string[]">
  Array of protocol IDs to exclude from routing.
</ParamField>

<ParamField query="direct" default="false" type="boolean">
  If true, only direct swaps will be considered (no multi-hop routes).
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the route was successfully found
</ResponseField>

<ResponseField name="routeSwapType" type="number">
  Type of swap route (0 = standard)
</ResponseField>

<ResponseField name="inputToken" type="object">
  Information about the input token

  <Expandable>
    <ResponseField name="name" type="string">
      Token name
    </ResponseField>
    <ResponseField name="address" type="string">
      Token contract address
    </ResponseField>
    <ResponseField name="decimals" type="number">
      Token decimals
    </ResponseField>
    <ResponseField name="price" type="number">
      Current token price in USD
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="outputToken" type="object">
  Information about the output token (same structure as inputToken)
</ResponseField>

<ResponseField name="inputAmount" type="string">
  The amount of input tokens in wei format
</ResponseField>

<ResponseField name="outputAmount" type="string">
  The expected amount of output tokens in wei format
</ResponseField>

<ResponseField name="time" type="number">
  Time taken to calculate the route (in seconds)
</ResponseField>

<ResponseField name="estimatedGasUsed" type="string">
  Estimated gas units for the transaction
</ResponseField>

<ResponseField name="estimatedGasUsedInUsd" type="number">
  Estimated gas cost in USD
</ResponseField>

<ResponseField name="route" type="object[]">
  Array of route segments showing how the swap is split

  <Expandable>
    <ResponseField name="percent" type="string">
      Percentage of input amount routed through this segment
    </ResponseField>
    <ResponseField name="swaps" type="array">
      Array of swap hops for this route segment

      <Expandable>
        <ResponseField name="protocol" type="number">
          Protocol ID
        </ResponseField>
        <ResponseField name="poolName" type="string">
          DEX protocol name
        </ResponseField>
        <ResponseField name="poolAddress" type="string">
          Liquidity pool address
        </ResponseField>
        <ResponseField name="fromTokenAddress" type="string">
          Input token address for this hop
        </ResponseField>
        <ResponseField name="toTokenAddress" type="string">
          Output token address for this hop
        </ResponseField>
        <ResponseField name="percent" type="string">
          Percentage split for this specific swap
        </ResponseField>
        <ResponseField name="extraData" type="object">
          Protocol-specific data (e.g., fee tier, tick spacing)
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="initial" type="boolean">
  Indicates if this is an initial route calculation
</ResponseField>

## Example Request

<RequestExample>

```bash cURL
curl "https://api.fibrous.finance/{network}/route?amount=1000000000000000000&tokenInAddress=0x0000000000000000000000000000000000000000&tokenOutAddress=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913&slippage=0.5"
```


```javascript JavaScript
const params = new URLSearchParams({
  amount: '1000000000000000000',
  tokenInAddress: '0x0000000000000000000000000000000000000000',
  tokenOutAddress: '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913',
  slippage: '0.5'
});

const response = await fetch(`https://api.fibrous.finance/base/route?${params}`);
const data = await response.json();
console.log(data);
```


```python Python
import requests

url = "https://api.fibrous.finance/{network}/route"

params = {
    "amount": "1000000000000000000",
    "tokenInAddress": "0x0000000000000000000000000000000000000000",
    "tokenOutAddress": "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",
    "slippage": 0.5
}

response = requests.get(url, params=params)
print(response.json())
```

```java Java
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.net.URLEncoder;
import java.nio.charset.StandardCharsets;

public class FibrousRoute {
    public static void main(String[] args) throws Exception {
        String baseUrl = "https://api.fibrous.finance/{network}/route";
        String params = "amount=1000000000000000000" +
                       "&tokenInAddress=0x0000000000000000000000000000000000000000" +
                       "&tokenOutAddress=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913" +
                       "&slippage=0.5";
        
        HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder()
            .uri(URI.create(baseUrl + "?" + params))
            .header("Accept", "*/*")
            .GET()
            .build();
        
        HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());
        System.out.println("Response: " + response.body());
    }
}
```

```go Go
package main

import (
    "fmt"
    "io"
    "net/http"
    "net/url"
)

func main() {
    baseURL := "https://api.fibrous.finance/{network}/route"
    
    params := url.Values{}
    params.Add("amount", "1000000000000000000")
    params.Add("tokenInAddress", "0x0000000000000000000000000000000000000000")
    params.Add("tokenOutAddress", "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913")
    params.Add("slippage", "0.5")
    
    req, err := http.NewRequest("GET", baseURL+"?"+params.Encode(), nil)
    if err != nil {
        panic(err)
    }
    
    req.Header.Set("Accept", "*/*")
    
    client := &http.Client{}
    resp, err := client.Do(req)
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()
    
    body, err := io.ReadAll(resp.Body)
    if err != nil {
        panic(err)
    }
    
    fmt.Println("Response:", string(body))
}
```
</RequestExample>

<ResponseExample>

```json
{
  "success": true,
  "routeSwapType": 0,
  "inputToken": {
    "name": "Wrapped Ether",
    "address": "0x4200000000000000000000000000000000000006",
    "decimals": 18,
    "price": 3171.37
  },
  "inputAmount": "1000000000000000000",
  "outputToken": {
    "name": "USD Coin",
    "address": "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",
    "decimals": 6,
    "price": 0.99971
  },
  "outputAmount": "3165007379",
  "time": 0.495,
  "estimatedGasUsed": "0",
  "estimatedGasUsedInUsd": 0,
  "route": [
    {
      "percent": "51%",
      "swaps": [
        [
          {
            "protocol": 9,
            "poolName": "PancakeSwap V3",
            "poolAddress": "0x72ab388e2e2f6facef59e3c3fa2c4e29011c2d38",
            "fromTokenAddress": "0x4200000000000000000000000000000000000006",
            "toTokenAddress": "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",
            "percent": "100.00%",
            "extraData": {
              "fee": 100
            }
          }
        ]
      ]
    },
    {
      "percent": "49%",
      "swaps": [
        [
          {
            "protocol": 9,
            "poolName": "PancakeSwap V3",
            "poolAddress": "0xc211e1f853a898bd1302385ccde55f33a8c4b3f3",
            "fromTokenAddress": "0x4200000000000000000000000000000000000006",
            "toTokenAddress": "0xcbb7c0000ab88b473b1f5afd9ef808440eed33bf",
            "percent": "100.00%",
            "extraData": {
              "fee": 100
            }
          }
        ],
        [
          {
            "protocol": 3,
            "poolName": "Aerodrome Slipstream",
            "poolAddress": "0x4e962bb3889bf030368f56810a9c96b83cb3e778",
            "fromTokenAddress": "0xcbb7c0000ab88b473b1f5afd9ef808440eed33bf",
            "toTokenAddress": "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",
            "percent": "61.00%",
            "extraData": {
              "tickSpacing": 100
            }
          },
          {
            "protocol": 3,
            "poolName": "Aerodrome Slipstream",
            "poolAddress": "0x3e66e55e97ce60096f74b7c475e8249f2d31a9fb",
            "fromTokenAddress": "0xcbb7c0000ab88b473b1f5afd9ef808440eed33bf",
            "toTokenAddress": "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",
            "percent": "39.00%",
            "extraData": {
              "tickSpacing": 2000
            }
          }
        ]
      ]
    }
  ],
  "initial": false
}
```
</ResponseExample>

## Best Practices

1. **Fresh Routes**
   - Always fetch a new route before executing a swap
   - Routes can become stale due to market movements
   - Typical validity: 30-60 seconds depending on market volatility
2. **Slippage Settings**
   - Stable pairs: 0.1% - 0.5%
   - Volatile pairs: 1% - 3%
   - Low liquidity tokens: 3% - 5%
3. **Gas Optimization**
   - Use `direct: true` for major token pairs
   - Consider gas costs vs. price improvement for small amounts
   - Exclude high-gas protocols when optimizing for speed
4. **Error Handling**
   - Implement retry logic with exponential backoff
   - Check for insufficient liquidity errors
   - Validate token addresses before calling

## Network-Specific Notes

<AccordionGroup>
  <Accordion title="Base Network">
    - Native token: ETH
    - Common tokens: USDC, USDbC, WETH, DAI
    - Average block time: ~2 seconds
  </Accordion>
  <Accordion title="HyperEVM">
    - Native token: HYPE
    - Common tokens: USDC, WHYPE
    - Average block time: ~2 seconds
  </Accordion>
  <Accordion title="Citrea">
    - Native token: cBTC
    - Common tokens: wcBTC, USDC.e
    - Average block time: TBD
    - Bitcoin's first ZK rollup with EVM compatibility
  </Accordion>
  <Accordion title="Starknet">
    - Native token: ETH
    - Common tokens: USDC, STRK
    - Uses Cairo VM (different address format)
    - See [Starknet-specific documentation](/api-reference/starknet/endpoint/route)
  </Accordion>
</AccordionGroup>

## Related Endpoints

- [Execute](/api-reference/endpoints/execute) - Execute the swap using the route
- [Calldata](/api-reference/endpoints/calldata) - Get transaction calldata
- [Health Check](/api-reference/endpoints/health-check) - Check API status
- [Get Route V2](/api-reference/endpoints/route-v2) - Enhanced route endpoint with integrator support
- [V2 Migration Guide](/api-reference/v2-migration) - Migrate to V2 API