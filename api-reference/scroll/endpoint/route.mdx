---
title: 'Route'
description: 'Find the optimal trading route through Fibrous Finance liquidity pools on Scroll'
---

<CodeGroup>
```bash
https://api.fibrous.finance/scroll/route
```
</CodeGroup>

Find the optimal trading route through Fibrous Finance's liquidity pools on Scroll to maximize output and minimize slippage. This endpoint analyzes multiple protocols, pool depths, and potential paths to deliver the most efficient swap execution for your tokens.

## Query Parameters

<ParamField query="amount" type="string" required>
  The amount of input tokens in wei format. For tokens with 18 decimals, multiply the amount by 10^18.
  
  Example: `"1000000000000000000"` for 1 ETH
</ParamField>

<ParamField query="tokenInAddress" type="string" required>
  The address of the input token.
  
  Example: `"0x5300000000000000000000000000000000000004"` for ETH on Scroll
</ParamField>

<ParamField query="tokenOutAddress" type="string" required>
  The address of the output token.
  
  Example: `"0x06eFdBF3B1ab11D8CDE82B0FA792D4cE44dBE550"` for USDC on Scroll
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful.
</ResponseField>

<ResponseField name="routeSwapType" type="number">
  Type of swap route (e.g., 2 for split routes).
</ResponseField>

<ResponseField name="inputToken" type="object">
  Details about the input token.
  <Expandable>
    <ResponseField name="name" type="string">
      The token's name (e.g., "Wrapped Ether")
    </ResponseField>
    <ResponseField name="address" type="string">
      The token's contract address
    </ResponseField>
    <ResponseField name="decimals" type="number">
      Number of decimals the token uses
    </ResponseField>
    <ResponseField name="price" type="number">
      Current price of the token in USD
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="outputToken" type="object">
  Details about the output token.
  <Expandable>
    <ResponseField name="name" type="string">
      The token's name (e.g., "USD Coin")
    </ResponseField>
    <ResponseField name="address" type="string">
      The token's contract address
    </ResponseField>
    <ResponseField name="decimals" type="number">
      Number of decimals the token uses
    </ResponseField>
    <ResponseField name="price" type="number">
      Current price of the token in USD
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash cURL
curl -L \
  "https://api.fibrous.finance/scroll/route?amount=1000000000000000000&tokenInAddress=0x5300000000000000000000000000000000000004&tokenOutAddress=0x06eFdBF3B1ab11D8CDE82B0FA792D4cE44dBE550" \
  --header "Accept: */*"
```

```python Python
import requests

url = "https://api.fibrous.finance/scroll/route"

params = {
    "amount": "1000000000000000000",  # 1 ETH
    "tokenInAddress": "0x5300000000000000000000000000000000000004",
    "tokenOutAddress": "0x06eFdBF3B1ab11D8CDE82B0FA792D4cE44dBE550"
}

response = requests.get(url, params=params)
print(response.json())
```

```javascript JavaScript
const axios = require('axios');

const params = {
  amount: '1000000000000000000', // 1 ETH
  tokenInAddress: '0x5300000000000000000000000000000000000004',
  tokenOutAddress: '0x06eFdBF3B1ab11D8CDE82B0FA792D4cE44dBE550'
};

axios.get('https://api.fibrous.finance/scroll/route', { params })
  .then(response => console.log(response.data))
  .catch(error => console.error(error));
```
</RequestExample>

<ResponseExample>
```json Response
{
  "success": true,
  "routeSwapType": 2,
  "inputToken": {
    "address": "0x5300000000000000000000000000000000000004",
    "name": "Wrapped Ether",
    "symbol": "WETH",
    "decimals": "18",
    "price": "4337.31",
    "base": true,
    "native": true,
    "image_url": "https://coin-images.coingecko.com/coins/images/2518/small/weth.png?1696503332",
    "verified": true,
    "category": null,
    "ticker": "weth"
  },
  "inputAmount": "1000000000000000000",
  "outputToken": {
    "address": "0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4",
    "name": "USD Coin",
    "symbol": "USDC",
    "decimals": 6,
    "base": true,
    "native": false
  },
  "outputAmount": "4263279730",
  "time": 0.372,
  "estimatedGasUsed": "69993657648",
  "estimatedGasUsedInUsd": 0.0012143367650129875,
  "route": [
    {
      "percent": "90%",
      "swaps": [
        [
          {
            "protocol": 1,
            "poolId": "1:0x814a23b053fd0f102aeeda0459215c2444799c70:0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4:0x5300000000000000000000000000000000000004",
            "poolName": "SyncSwap Classic",
            "fromTokenAddress": "0x5300000000000000000000000000000000000004",
            "toTokenAddress": "0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4",
            "percent": "60.00%"
          },
          {
            "protocol": 5,
            "poolId": "5:0x6905c59be1a7ea32d1f257e302401ec9a1401c52:0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4:0x5300000000000000000000000000000000000004",
            "poolName": "SpaceFi",
            "fromTokenAddress": "0x5300000000000000000000000000000000000004",
            "toTokenAddress": "0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4",
            "percent": "6.67%"
          },
          {
            "protocol": 8,
            "poolId": "8:0xe64ae4128e725868e8fe52e771e3d272e787b041:0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4:0x5300000000000000000000000000000000000004",
            "poolName": "Sushi CL",
            "poolAddress": "0xe64ae4128e725868e8fe52e771e3d272e787b041",
            "fromTokenAddress": "0x5300000000000000000000000000000000000004",
            "toTokenAddress": "0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4",
            "percent": "11.11%"
          },
          {
            "protocol": 12,
            "poolId": "12:0x118a84e97620829a6a9666d41acc9e91edf32bd6:0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4:0x5300000000000000000000000000000000000004",
            "poolName": "Zebra CL",
            "poolAddress": "0x118a84e97620829a6a9666d41acc9e91edf32bd6",
            "fromTokenAddress": "0x5300000000000000000000000000000000000004",
            "toTokenAddress": "0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4",
            "percent": "7.78%"
          },
          {
            "protocol": 15,
            "poolId": "15:0xe0da810f07da1eace7f044afd081f8583dbe9cd3:0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4:0x5300000000000000000000000000000000000004",
            "poolName": "Nuri CL",
            "poolAddress": "0xe0da810f07da1eace7f044afd081f8583dbe9cd3",
            "fromTokenAddress": "0x5300000000000000000000000000000000000004",
            "toTokenAddress": "0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4",
            "percent": "14.44%"
          }
        ]
      ]
    }
  ],
  "bestQuotesByProtocols": [
    {"name": "Syncswap", "quote": "4235.89419"},
    {"name": "Skydrome", "quote": "0"},
    {"name": "Zebra V2", "quote": "1183.484632"},
    {"name": "Metavault V2", "quote": "79.29063"},
    {"name": "Space Fi V2", "quote": "3821.560667"},
    {"name": "Sushi V2", "quote": "2402.596173"},
    {"name": "Dodo", "quote": "487.734193"},
    {"name": "Nuri V2", "quote": "102.106455"},
    {"name": "KyberSwap Classic", "quote": "880.711712"},
    {"name": "Tokan V2", "quote": "1354.639786"},
    {"name": "Zada Fi V2", "quote": "2160.433469"},
    {"name": "Sushi CL", "quote": "4000.797454"},
    {"name": "Okutrade", "quote": "3288.843421"},
    {"name": "Izumi", "quote": "3315.196008"},
    {"name": "Metavault CL", "quote": "152.458258"},
    {"name": "Zebra CL", "quote": "3890.335024"},
    {"name": "Keller", "quote": "73.835387"},
    {"name": "Nuri CL", "quote": "4050.439619"}
  ],
  "initial": false
}
```
</ResponseExample>

