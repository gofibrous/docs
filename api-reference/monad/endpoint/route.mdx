---
title: 'Route'
description: 'Find the optimal trading route through Fibrous Finance liquidity pools'
api: 'GET /monad/v2/route'
---

## Endpoint

<CodeGroup>
```bash
https://api.fibrous.finance/monad/v2/route
```
</CodeGroup>

Find the optimal trading route through Fibrous Finance's liquidity pools to maximize output and minimize slippage. This endpoint analyzes multiple protocols, pool depths, and potential paths to deliver the most efficient swap execution for your tokens.

## Query Parameters

<ParamField query="amount" type="string" required>
  The amount of input tokens in wei format. For tokens with 18 decimals, multiply the amount by 10^18.
  
  Example: `"1000000000000000000"` for 1 MON
</ParamField>

<ParamField query="tokenInAddress" type="string" required>
  The address of the input token.
  
  Example: `"0x0000000000000000000000000000000000000000"` for MON
</ParamField>

<ParamField query="tokenOutAddress" type="string" required>
  The address of the output token.
  
  Example: `"0x3bd359c1119da7da1d913d1c4d2b7c461115433a"` for WMON
</ParamField>

<ParamField query="reverse" type="boolean" optional>
  Not supported yet - reserved for future use.
  Default: `false`
</ParamField>

<ParamField query="direct" type="boolean" optional>
  If true, only direct swaps between the input and output tokens will be considered.
  Default: `false`
</ParamField>

<ParamField query="excludeProtocols" type="string" optional>
  Comma-separated list of protocol IDs to exclude from routing (e.g., "1,2,3").
  Default: `""`
</ParamField>

<ParamField query="integratorAddress" type="string" optional>
  Integrator wallet address to receive fees or surplus. Requires API key authentication.
</ParamField>

<ParamField query="integratorFeePercentageBps" type="number" optional>
  Integrator fee percentage in basis points (0-500, maximum 5%).
  Cannot be used together with integratorSurplusPercentageBps.
</ParamField>

<ParamField query="integratorSurplusPercentageBps" type="number" optional>
  Integrator surplus percentage in basis points (0-5000, maximum 50%).
  Cannot be used together with integratorFeePercentageBps.
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful.
</ResponseField>

<ResponseField name="routeSwapType" type="number">
  Type of swap route (0: ETH to Token, 1: Token to ETH, 2: Token to Token).
</ResponseField>

<ResponseField name="inputToken" type="object">
  Details about the input token.
  <Expandable>
    <ResponseField name="name" type="string">
      The token's name (e.g., "Monad")
    </ResponseField>
    <ResponseField name="address" type="string">
      The token's contract address
    </ResponseField>
    <ResponseField name="decimals" type="number">
      Number of decimals the token uses
    </ResponseField>
    <ResponseField name="price" type="number">
      Current price of the token in USD
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="inputAmount" type="string">
  The input amount in wei format.
</ResponseField>

<ResponseField name="outputToken" type="object">
  Details about the output token.
  <Expandable>
    <ResponseField name="name" type="string">
      The token's name (e.g., "Wrapped Monad")
    </ResponseField>
    <ResponseField name="address" type="string">
      The token's contract address
    </ResponseField>
    <ResponseField name="decimals" type="number">
      Number of decimals the token uses
    </ResponseField>
    <ResponseField name="price" type="number">
      Current price of the token in USD
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="outputAmount" type="string">
  The estimated amount of output tokens in wei format.
</ResponseField>

<ResponseField name="outputAmountAfterFee" type="string" optional>
  The output amount after integrator fee deduction (if applicable).
</ResponseField>

<ResponseField name="estimatedGasUsed" type="string">
  Estimated gas cost for the swap in wei.
</ResponseField>

<ResponseField name="estimatedGasUsedInUsd" type="number">
  Estimated gas cost in USD.
</ResponseField>

<ResponseField name="route" type="array">
  Array of route segments with detailed swap information.
  <Expandable>
    <ResponseField name="percent" type="string">
      Percentage of input amount going through this route
    </ResponseField>
    <ResponseField name="swaps" type="array">
      Array of swap steps in this route segment
      <Expandable>
        <ResponseField name="protocol" type="number">
          Protocol identifier
        </ResponseField>
        <ResponseField name="poolName" type="string">
          Name of the liquidity pool
        </ResponseField>
        <ResponseField name="poolAddress" type="string">
          Address of the liquidity pool
        </ResponseField>
        <ResponseField name="percent" type="string">
          Percentage of the segment amount through this pool
        </ResponseField>
        <ResponseField name="extraData" type="object">
          Protocol-specific parameters
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="integratorAddress" type="string" optional>
  Integrator address (if provided).
</ResponseField>

<ResponseField name="integratorFeePercentageBps" type="number" optional>
  Integrator fee percentage in basis points (if applicable).
</ResponseField>

<ResponseField name="integratorSurplusPercentageBps" type="number" optional>
  Integrator surplus percentage in basis points (if applicable).
</ResponseField>

<ResponseField name="integratorName" type="string" optional>
  Integrator name from API key (if applicable).
</ResponseField>

<ResponseField name="meta" type="object">
  API metadata including version and timestamp.
  <Expandable>
    <ResponseField name="apiVersion" type="string">
      API version (e.g., "2.0")
    </ResponseField>
    <ResponseField name="timestamp" type="string">
      Response timestamp in ISO 8601 format
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash cURL
curl -L \
  "https://api.fibrous.finance/monad/v2/route?amount=1000000000000000000&tokenInAddress=0x0000000000000000000000000000000000000000&tokenOutAddress=0x3bd359c1119da7da1d913d1c4d2b7c461115433a" \
  --header "Accept: */*"
```

```python Python
import requests

url = "https://api.fibrous.finance/monad/v2/route"

params = {
    "amount": "1000000000000000000",  # 1 MON
    "tokenInAddress": "0x0000000000000000000000000000000000000000",
    "tokenOutAddress": "0x3bd359c1119da7da1d913d1c4d2b7c461115433a"
}

response = requests.get(url, params=params)
print(response.json())
```

```javascript JavaScript
const axios = require('axios');

const params = {
  amount: '1000000000000000000', // 1 MON
  tokenInAddress: '0x0000000000000000000000000000000000000000',
  tokenOutAddress: '0x3bd359c1119da7da1d913d1c4d2b7c461115433a'
};

axios.get('https://api.fibrous.finance/monad/v2/route', { params })
  .then(response => console.log(response.data))
  .catch(error => console.error(error));
```
</RequestExample>

<ResponseExample>
```json Response
{
  "success": true,
  "routeSwapType": 0,
  "inputToken": {
    "name": "Monad",
    "address": "0x0000000000000000000000000000000000000000",
    "decimals": 18,
    "price": 0
  },
  "inputAmount": "1000000000000000000",
  "outputToken": {
    "name": "Wrapped Monad",
    "address": "0x3bd359c1119da7da1d913d1c4d2b7c461115433a",
    "decimals": 18,
    "price": 0
  },
  "outputAmount": "1000000000000000000",
  "estimatedGasUsed": "0",
  "estimatedGasUsedInUsd": 0,
  "route": [],
  "time": 0,
  "bestQuotesByProtocols": [],
  "initial": false,
  "meta": {
    "apiVersion": "2.0",
    "timestamp": "2024-01-15T10:30:00.000Z"
  }
}
```
</ResponseExample>

