---
title: 'Calldata'
description: 'Generate calldata for executing a swap using a pre-calculated route'
api: 'POST /monad/v2/calldata'
---

## Endpoint

<CodeGroup>
```bash
https://api.fibrous.finance/monad/v2/calldata
```
</CodeGroup>

Generate transaction calldata for executing a swap using a pre-calculated route. This endpoint is useful when you already have a route from the `/route` endpoint and want to generate the execution calldata with specific slippage and destination parameters.

## Request Body Parameters

<ParamField body="route" type="object" required>
  The complete route response object from the `/monad/v2/route` endpoint.
  This contains all the necessary information about the optimal route.
</ParamField>

<ParamField body="slippage" type="number" required>
  Maximum acceptable slippage percentage (0-49, e.g., 0.5 for 0.5%).
</ParamField>

<ParamField body="destination" type="string" required>
  Recipient address for the output tokens.
</ParamField>

<ParamField body="integratorAddress" type="string" optional>
  Integrator wallet address to receive fees or surplus. Requires API key authentication.
</ParamField>

<ParamField body="integratorFeePercentageBps" type="number" optional>
  Integrator fee percentage in basis points (0-500, maximum 5%).
  Cannot be used together with integratorSurplusPercentageBps.
</ParamField>

<ParamField body="integratorSurplusPercentageBps" type="number" optional>
  Integrator surplus percentage in basis points (0-5000, maximum 50%).
  Cannot be used together with integratorFeePercentageBps.
</ParamField>

## Response

<ResponseField name="route" type="object">
  Route information for the calldata.
  <Expandable>
    <ResponseField name="token_in" type="string">
      Input token address
    </ResponseField>
    <ResponseField name="token_out" type="string">
      Output token address
    </ResponseField>
    <ResponseField name="amount_in" type="string">
      Input amount in wei
    </ResponseField>
    <ResponseField name="amount_out" type="string">
      Output amount in wei
    </ResponseField>
    <ResponseField name="min_received" type="string">
      Minimum amount to receive (considering slippage)
    </ResponseField>
    <ResponseField name="destination" type="string">
      Recipient address
    </ResponseField>
    <ResponseField name="swap_type" type="number">
      Type of swap
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="swap_parameters" type="array">
  Array of swap parameters for each hop in the route.
  <Expandable>
    <ResponseField name="token_in" type="string">
      Input token address for this swap
    </ResponseField>
    <ResponseField name="token_out" type="string">
      Output token address for this swap
    </ResponseField>
    <ResponseField name="rate" type="string">
      Rate of the swap
    </ResponseField>
    <ResponseField name="protocol_id" type="string">
      Protocol identifier
    </ResponseField>
    <ResponseField name="pool_address" type="string">
      Pool address for this swap
    </ResponseField>
    <ResponseField name="swap_type" type="number">
      Type of swap
    </ResponseField>
    <ResponseField name="extra_data" type="string">
      Protocol-specific extra data (hex encoded)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="router_address" type="string">
  Router contract address for executing the swap.
</ResponseField>

<ResponseField name="meta" type="object">
  API metadata including version and timestamp.
  <Expandable>
    <ResponseField name="apiVersion" type="string">
      API version (e.g., "2.0")
    </ResponseField>
    <ResponseField name="timestamp" type="string">
      Response timestamp in ISO 8601 format
    </ResponseField>
  </Expandable>
</ResponseField>

## Error Responses

### Invalid Route

```json
{
  "success": false,
  "error": "Invalid route",
  "details": "The provided route is invalid or expired"
}
```

### Invalid Slippage

```json
{
  "success": false,
  "error": "Invalid slippage",
  "details": "Slippage must be between 0 and 49"
}
```

### Invalid Destination

```json
{
  "success": false,
  "error": "Invalid destination",
  "details": "The provided destination address is not valid"
}
```

<RequestExample>
```bash cURL
curl -X POST "https://api.fibrous.finance/monad/v2/calldata" \
  -H "Content-Type: application/json" \
  -d '{
    "route": {
      "success": true,
      "routeSwapType": 0,
      "inputToken": {
        "name": "Monad",
        "address": "0x0000000000000000000000000000000000000000",
        "decimals": 18,
        "price": 0
      },
      "inputAmount": "1000000000000000000",
      "outputToken": {
        "name": "Wrapped Monad",
        "address": "0x3bd359c1119da7da1d913d1c4d2b7c461115433a",
        "decimals": 18,
        "price": 0
      },
      "outputAmount": "1000000000000000000",
      "estimatedGasUsed": "0",
      "estimatedGasUsedInUsd": 0,
      "route": [],
      "time": 0,
      "bestQuotesByProtocols": [],
      "initial": false
    },
    "slippage": 0.5,
    "destination": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"
  }'
```

```python Python
import requests
import json

url = "https://api.fibrous.finance/monad/v2/calldata"

payload = json.dumps({
  "route": {
    "success": True,
    "routeSwapType": 0,
    "inputToken": {
      "name": "Monad",
      "address": "0x0000000000000000000000000000000000000000",
      "decimals": 18,
      "price": 0
    },
    "inputAmount": "1000000000000000000",
    "outputToken": {
      "name": "Wrapped Monad",
      "address": "0x3bd359c1119da7da1d913d1c4d2b7c461115433a",
      "decimals": 18,
      "price": 0
    },
    "outputAmount": "1000000000000000000",
    "estimatedGasUsed": "0",
    "estimatedGasUsedInUsd": 0,
    "route": [],
    "time": 0,
    "bestQuotesByProtocols": [],
    "initial": False
  },
  "slippage": 0.5,
  "destination": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"
})

headers = {
  'Content-Type': 'application/json'
}

response = requests.post(url, headers=headers, data=payload)
print(response.json())
```

```javascript JavaScript
const axios = require('axios');

const data = {
  route: {
    success: true,
    routeSwapType: 0,
    inputToken: {
      name: "Monad",
      address: "0x0000000000000000000000000000000000000000",
      decimals: 18,
      price: 0
    },
    inputAmount: "1000000000000000000",
    outputToken: {
      name: "Wrapped Monad",
      address: "0x3bd359c1119da7da1d913d1c4d2b7c461115433a",
      decimals: 18,
      price: 0
    },
    outputAmount: "1000000000000000000",
    estimatedGasUsed: "0",
    estimatedGasUsedInUsd: 0,
    route: [],
    time: 0,
    bestQuotesByProtocols: [],
    initial: false
  },
  slippage: 0.5,
  destination: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"
};

axios.post('https://api.fibrous.finance/monad/v2/calldata', data, {
  headers: {
    'Content-Type': 'application/json'
  }
})
  .then(response => console.log(response.data))
  .catch(error => console.error(error));
```
</RequestExample>

<ResponseExample>
```json Response
{
  "route": {
    "token_in": "0x0000000000000000000000000000000000000000",
    "token_out": "0x3bd359c1119da7da1d913d1c4d2b7c461115433a",
    "amount_in": "1000000000000000000",
    "amount_out": "1000000000000000000",
    "min_received": "995000000000000000",
    "destination": "0x742d35cc6634c0532925a3b844bc9e7595f0beb",
    "swap_type": 0
  },
  "swap_parameters": [],
  "router_address": "0x274602a953847d807231d2370072f5f4e4594b44",
  "meta": {
    "apiVersion": "2.0",
    "timestamp": "2024-01-15T10:30:00.000Z"
  }
}
```
</ResponseExample>

## Tips

1. Always verify the `min_received` amount matches your expectations
2. Check that the `destination` address is correct
3. Consider gas costs when splitting across multiple protocols
4. Store the route response before requesting calldata
5. Routes can become stale - use fresh routes when generating calldata

## Related Endpoints

- [Route Endpoint](/api-reference/monad/endpoint/route) - Get optimal swap routes
- [Route and Calldata Endpoint](/api-reference/monad/endpoint/routeAndCallData) - Get route and calldata in one call

